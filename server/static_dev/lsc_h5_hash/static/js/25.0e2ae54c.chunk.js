(window.webpackJsonplsc_h5_ts=window.webpackJsonplsc_h5_ts||[]).push([[25],{838:function(e,t,n){},863:function(e,t,n){"use strict";n.r(t);n(204),n(46),n(83),n(23),n(31),n(28),n(202);var a=n(12),r=(n(82),n(25)),c=n(267),s=n(29),u=n(1),i=n.n(u),o=(n(121),n(41)),m=(n(39),n(2)),l=n(14),p=n(15),h=n(17),f=n(16),d=n(11),b=n(0),g=n.n(b),y=(n(838),n(20)),v=n(27),k=n(30),E=n(37),j=n(62);var w=function(e){Object(h.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(d.a)(e);if(t()){var r=Object(d.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(f.a)(this,n)}}(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).onDelete=function(){var e=Object(m.a)(i.a.mark((function e(t){var n,r,c,s,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),n=a.props,r=n.museumSubTypes,c=n.delMuseumSubType,s=[],r.map((function(e){e.checked&&s.push(e.stairTwoId)})),e.next=6,c(s.join("&"));case 6:if(u=e.sent,!u.isOk){e.next=12;break}return o.a.success("\u7c7b\u76ee\u5220\u9664\u6210\u529f!"),e.next=12,a.getInit();case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.chose=function(){var e=Object(m.a)(i.a.mark((function e(t,n){var r,c,u,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),r=a.props,c=r.changeMuseumData,u=r.museumSubTypes,o=u[n].checked,u[n].checked=!o,e.next=6,c({museumSubTypes:Object(s.a)(u)});case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a.choseAll=function(){var e=Object(m.a)(i.a.mark((function e(t){var n,r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props,r=n.changeMuseumData,(c=n.museumSubTypes).map((function(e){return e.checked=t,e})),e.next=4,r({museumSubTypes:Object(s.a)(c)});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.navTo=function(){var e=Object(m.a)(i.a.mark((function e(t){var n,r,c,s,u,o,m;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a.state.edit,r=a.props,c=r.history,s=r.match.params,u=s.isMyself,o=s.id,m=s.museumId,c.push({pathname:n?"/museums/museum_subtype_edit/"+t:"/museums/collection_list/subtype/"+t+"/"+u+"/"+o+"/"+m});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.toggle=function(){var e=Object(m.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a.state[t],a.setState(Object(c.a)({},t,!n));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.getList=Object(m.a)(i.a.mark((function e(){var t,n,r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.page,r=t.getMuseumSubTypes,c=t.match.params.id,e.next=3,r({id:c,page:n});case 3:case"end":return e.stop()}}),e)}))),a.getInit=Object(m.a)(i.a.mark((function e(){var t,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.changeCommonData,r=t.match.params.name,e.next=3,n({page:1});case 3:return document.title=r,e.next=6,a.getList();case 6:case"end":return e.stop()}}),e)}))),a.state={edit:!1},a}return Object(p.a)(n,[{key:"render",value:function(){var e=this.props,t=(e.className,e.museumSubTypes),n=e.match.params,a=n.id,c=n.museumId,s=n.isMyself,u=this.state.edit,i=this.toggle,o=this.navTo,m=this.choseAll,l=this.chose,p=this.onDelete,h=this.getList;return g.a.createElement(r.a,{className:"museum_subtypes_page",direction:"column"},g.a.createElement(r.a.Item,null,g.a.createElement(E.r,{onLoadData:h},t.map((function(e,t){return g.a.createElement(r.a,{className:"type",key:t,onClick:function(){return o(e.stairTwoId)}},u&&g.a.createElement("img",{className:"checkbox_img",onClick:function(e){return l(e,t)},src:e.checked?"/lsc_h5_hash/imgs/chose1.png":"/lsc_h5_hash/imgs/chose2.png",alt:""}),g.a.createElement(r.a.Item,null,e.img&&e.img.medium&&g.a.createElement("img",{className:"logo",src:e.img.medium,alt:""}),g.a.createElement("div",{className:"infos"},g.a.createElement("div",{className:"name"},e.name),g.a.createElement(r.a,{className:"describe"},g.a.createElement(r.a.Item,{className:"multi_line"},e.describe),"true"===s&&g.a.createElement("span",null,"\u65b0\u589e\u85cf\u54c1")),g.a.createElement(E.a,null,g.a.createElement(r.a.Item,null,"\u9986\u85cf\uff1a",g.a.createElement("span",null,e.totalObject)," \u4ef6"),g.a.createElement("span",null,"\u5730\u56fe\u5bfc\u822a")))))})),!t.length&&g.a.createElement(E.l,null))),"true"===s&&g.a.createElement(r.a,{className:"oprs"},u&&g.a.createElement(r.a.Item,null,g.a.createElement("span",{onClick:function(){return m(!0)}},"\u5168\u9009"),g.a.createElement("span",{onClick:function(){return m(!1)}},"\u5168\u4e0d\u9009"),g.a.createElement("span",{onClick:function(){return i("edit")}},"\u53d6\u6d88"),g.a.createElement("span",{onClick:p},"\u5220\u9664")),g.a.createElement("img",{onClick:function(){return i("edit")},src:"/lsc_h5_hash/imgs/edit.png",alt:""}),g.a.createElement(j.b,{to:"/museums/museum_subtype_edit/"+a+"/"+c},g.a.createElement("img",{src:"/lsc_h5_hash/imgs/add1.png",alt:""}))))}},{key:"componentDidMount",value:function(){document.title="\u4e8c\u7ea7\u7c7b\u76ee",this.getInit()}},{key:"shouldComponentUpdate",value:function(e,t,n){return!0}}]),n}(g.a.Component);t.default=Object(k.b)((function(e){return{museumSubTypes:e.museumReducer.museumSubTypes,page:e.commonReducer.page}}),(function(e){var t=y.e.getMuseumSubTypes,n=y.e.delMuseumSubType,r=y.e.changeMuseumData,c=y.a.changeCommonData;return Object(a.a)(Object(a.a)({},Object(v.bindActionCreators)({getMuseumSubTypes:t,delMuseumSubType:n,changeMuseumData:r,changeCommonData:c},e)),{},{dispatch:e})}))(w)}}]);
//# sourceMappingURL=25.0e2ae54c.chunk.js.map