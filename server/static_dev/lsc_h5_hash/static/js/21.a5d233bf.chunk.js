(window.webpackJsonplsc_h5_ts=window.webpackJsonplsc_h5_ts||[]).push([[21],{826:function(e,t,n){},851:function(e,t,n){"use strict";n.r(t);n(99),n(203),n(46),n(83),n(23),n(31),n(28),n(202);var u=n(12),s=n(29),a=n(1),c=n.n(a),r=(n(39),n(2)),i=n(14),o=n(15),m=n(86),l=n(17),f=n(16),p=n(11),h=n(0),v=n.n(h),d=n(20),y=n(27),b=n(30),M=(n(826),n(37));var g=function(e){Object(l.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,u=Object(p.a)(e);if(t()){var s=Object(p.a)(this).constructor;n=Reflect.construct(u,arguments,s)}else n=u.apply(this,arguments);return Object(f.a)(this,n)}}(n);function n(e){var u;return Object(i.a)(this,n),(u=t.call(this,e)).navTo=function(e){var t=e.value,n=e.page,s=Object(m.a)(u),a=s.props,c=a.history,r=a.museum,i=r.id,o=r.storeid,l=s.state.isMyself,f=n+"/"+(5===t?o:i);f+="/"+(1===t||2===t||8===t?l:""),c.push({pathname:f})},u.getInit=Object(r.a)(c.a.mark((function e(){var t,n,s,a,r,i,o,m,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.props,n=t.match.params.id,s=t.getMuseumDetail,a=t.getMyMuseums,r=t.myMuseums,e.next=3,s(n);case 3:if(i=e.sent,document.title=i.name,r.length){e.next=11;break}return e.next=8,a();case 8:o=e.sent,m=o.list,r=m;case 11:l=r.findIndex((function(e){return e.museumId===n})),u.setState({isMyself:-1!==l});case 13:case"end":return e.stop()}}),e)}))),u.state={isMyself:!1},u}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=(e.className,e.museumHomeNavs),n=this.state.isMyself,u=this.navTo;return v.a.createElement("div",{className:"museum_home_page"},t.map((function(e,t){return v.a.createElement("div",{key:t,className:"nav",onClick:function(){return u(e)}},v.a.createElement("img",{src:"/lsc_h5_hash/imgs/museum_home_"+e.value+".png",alt:""}),v.a.createElement("div",{className:"text"},e.text,2===t&&n?"(\u7c7b\u76ee\u7f16\u8f91)":""))})),v.a.createElement(M.d,null))}},{key:"componentDidMount",value:function(){this.getInit()}},{key:"shouldComponentUpdate",value:function(e,t,n){return!0}}]),n}(v.a.Component);t.default=Object(b.b)((function(e){var t=e.commonReducer,n=t.museumHomeNavs,u=t.myMuseums,a=e.museumReducer.museum;return{museumHomeNavs:[{text:"\u5168\u90e8",value:8,page:"/museums/collection_list/museum"}].concat(Object(s.a)(n)),museum:a,myMuseums:u}}),(function(e){var t=d.e.getMuseumDetail,n=d.a.getMyMuseums;return Object(u.a)(Object(u.a)({},Object(y.bindActionCreators)({getMuseumDetail:t,getMyMuseums:n},e)),{},{dispatch:e})}))(g)}}]);
//# sourceMappingURL=21.a5d233bf.chunk.js.map