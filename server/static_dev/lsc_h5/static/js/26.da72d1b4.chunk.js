(window.webpackJsonplsc_h5_ts=window.webpackJsonplsc_h5_ts||[]).push([[26],{833:function(e,t,a){},858:function(e,t,a){"use strict";a.r(t);a(83),a(59),a(23),a(30),a(28),a(198),a(82);var n=a(25),c=a(38),r=(a(121),a(41)),s=a(1),u=a.n(s),m=a(12),i=(a(39),a(2)),o=a(14),l=a(15),d=a(17),p=a(16),f=a(11),h=a(0),b=a.n(h),g=(a(833),a(20)),v=a(27),y=a(32),O=a(37);var j=function(e){Object(d.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,n=Object(f.a)(e);if(t()){var c=Object(f.a)(this).constructor;a=Reflect.construct(n,arguments,c)}else a=n.apply(this,arguments);return Object(p.a)(this,a)}}(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).getInit=Object(i.a)(u.a.mark((function e(){var t,a,c,r,s,i,o,l,d,p,f;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props,a=t.getMuseumTypeDetail,c=t.formFields,r=t.changeMuseumData,s=t.changeCommonData,i=t.match.params,o=i.opr,l=i.id,"edit"!==o){e.next=10;break}return e.next=4,a(l);case 4:d=e.sent,p=d.name,f=d.img,Object.assign(c,{name:p,img:f?[f]:[]}),e.next=13;break;case 10:return e.next=12,r({museumType:{}});case 12:Object.assign(c,{name:"",img:[]});case 13:return e.next=15,s({formFields:Object(m.a)({},c)});case 15:case"end":return e.stop()}}),e)}))),n.onSave=Object(i.a)(u.a.mark((function e(){var t,a,c,s,m,i,o,l,d,p,f,h;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props,a=t.formFields,c=a.name,s=a.img,m=t.history,i=t.match.params,o=i.opr,l=i.id,d=t.addMuseumType,p=t.updateMuseumType,f={name:c,img:s[0]},Object.assign(f,"add"===o?{museumId:l}:{id:l}),"add"!==o){e.next=9;break}return e.next=6,d(f);case 6:e.t0=e.sent,e.next=12;break;case 9:return e.next=11,p(f);case 11:e.t0=e.sent;case 12:h=e.t0,h.isOk&&(r.a.success(("add"===o?"\u521b\u5efa":"\u4fee\u6539")+"\u7c7b\u76ee\u6210\u529f!"),m.goBack());case 15:case"end":return e.stop()}}),e)}))),n.state={},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=(e.className,e.match.params),a=t.opr;t.id;Object(c.a)(this.state);var r=this.onSave;return b.a.createElement(n.a,{className:"museum_type_edit_page",direction:"column"},b.a.createElement("div",{className:"item"},b.a.createElement(n.a,null,b.a.createElement("div",{className:"label"},"\u7c7b\u76ee\u540d\u79f0"),b.a.createElement(n.a.Item,null,b.a.createElement(O.z,{name:"name",placeholder:"\u8bf7\u8f93\u5165\u7c7b\u76ee\u540d\u79f0"}))),b.a.createElement("div",{className:"label bd_u"},"\u56fe\u7247\u7b80\u4ecb"),b.a.createElement(O.E,{name:"img",lineImg:1}),b.a.createElement("div",{className:"tips"},"\u63a8\u8350\u957f\u5bbd\u6bd4\uff1a2:1")),b.a.createElement("div",{onClick:r,className:"state7"},"add"===a?"\u6dfb\u52a0":"\u4fdd\u5b58"))}},{key:"componentDidMount",value:function(){document.title="\u7c7b\u76ee\u7f16\u8f91",this.getInit()}},{key:"shouldComponentUpdate",value:function(e,t,a){return!0}}]),a}(b.a.Component);t.default=Object(y.b)((function(e){var t=e.museumReducer.museumType;return{formFields:e.commonReducer.formFields,museumType:t}}),(function(e){var t=g.e.getMuseumTypeDetail,a=g.e.changeMuseumData,n=g.e.addMuseumType,c=g.e.updateMuseumType,r=g.a.changeCommonData;return Object(m.a)(Object(m.a)({},Object(v.bindActionCreators)({getMuseumTypeDetail:t,changeMuseumData:a,changeCommonData:r,addMuseumType:n,updateMuseumType:c},e)),{},{dispatch:e})}))(j)}}]);
//# sourceMappingURL=26.da72d1b4.chunk.js.map