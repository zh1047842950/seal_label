(window.webpackJsonplsc_h5_ts=window.webpackJsonplsc_h5_ts||[]).push([[24],{835:function(e,t,a){},860:function(e,t,a){"use strict";a.r(t);a(83),a(59),a(23),a(30),a(28),a(198),a(82);var n=a(25),c=a(38),s=(a(121),a(41)),r=a(1),u=a.n(r),m=a(12),i=(a(39),a(2)),o=a(14),l=a(15),d=a(17),p=a(16),b=a(11),f=a(0),g=a.n(f),h=(a(835),a(20)),v=a(27),y=a(32),O=a(37);var j=function(e){Object(d.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,n=Object(b.a)(e);if(t()){var c=Object(b.a)(this).constructor;a=Reflect.construct(n,arguments,c)}else a=n.apply(this,arguments);return Object(p.a)(this,a)}}(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).getInit=Object(i.a)(u.a.mark((function e(){var t,a,c,s,r,i,o,l,d,p,b,f,g;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props,a=t.getMuseumSubTypeDetail,c=t.formFields,s=t.changeMuseumData,r=t.changeCommonData,i=t.match.params,o=i.museumId,l=i.id,o){e.next=12;break}return e.next=4,a(l);case 4:d=e.sent,p=d.name,b=d.img,f=d.describe,g=d.mapImg,Object.assign(c,{name:p,img:b?[b]:[],mapImg:g?[g]:[],describe:f}),e.next=15;break;case 12:return e.next=14,s({museumSubType:{}});case 14:Object.assign(c,{name:"",img:[],mapImg:[],describe:""});case 15:return e.next=17,r({formFields:Object(m.a)({},c)});case 17:case"end":return e.stop()}}),e)}))),n.onSave=Object(i.a)(u.a.mark((function e(){var t,a,c,r,m,i,o,l,d,p,b,f,g,h;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props,a=t.formFields,c=a.name,r=a.img,m=a.mapImg,i=a.describe,o=t.history,l=t.match.params,d=l.museumId,p=l.id,b=t.addMuseumSubType,f=t.updateMuseumSubType,g={name:c,img:r[0],mapImg:m[0],describe:i},Object.assign(g,d?{museumId:d,stairOneId:p}:{id:p}),!d){e.next=9;break}return e.next=6,b(g);case 6:e.t0=e.sent,e.next=12;break;case 9:return e.next=11,f(g);case 11:e.t0=e.sent;case 12:h=e.t0,h.isOk&&(s.a.success((d?"\u521b\u5efa":"\u4fee\u6539")+"\u4e8c\u7ea7\u7c7b\u76ee\u6210\u529f!"),o.goBack());case 15:case"end":return e.stop()}}),e)}))),n.state={},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=(e.className,e.match.params),a=t.museumId;t.id;Object(c.a)(this.state);var s=this.onSave;return g.a.createElement("div",{className:"museum_subtype_edit_page"},g.a.createElement("div",{className:"item"},g.a.createElement(n.a,null,g.a.createElement("div",{className:"label"},"\u7c7b\u76ee\u540d\u79f0"),g.a.createElement(n.a.Item,null,g.a.createElement(O.z,{name:"name",placeholder:"\u8bf7\u8f93\u5165\u7c7b\u76ee\u540d\u79f0"}))),g.a.createElement("div",{className:"label bd_u"},"\u56fe\u7247\u7b80\u4ecb"),g.a.createElement(O.E,{name:"img",lineImg:1}),g.a.createElement("div",{className:"tips"},"\u63a8\u8350\u957f\u5bbd\u6bd4\uff1a2:1")),g.a.createElement("div",{className:"item "},g.a.createElement("div",{className:"label "},"\u533a\u57df\u63cf\u8ff0"),g.a.createElement(O.z,{className:"bd_ud",fieldType:"textarea",name:"describe",placeholder:"\u8bf7\u8f93\u5165\u533a\u57df\u63cf\u8ff0"}),g.a.createElement(O.E,{className:" padding_d",name:"mapImg",lineImg:1})),g.a.createElement("div",{onClick:s,className:"state7"},a?"\u6dfb\u52a0":"\u4fdd\u5b58"))}},{key:"componentDidMount",value:function(){document.title="\u4e8c\u7ea7\u7c7b\u76ee\u7f16\u8f91",this.getInit()}},{key:"shouldComponentUpdate",value:function(e,t,a){return!0}}]),a}(g.a.Component);t.default=Object(y.b)((function(e){var t=e.museumReducer.museumSubType;return{formFields:e.commonReducer.formFields,museumSubType:t}}),(function(e){var t=h.e.getMuseumSubTypeDetail,a=h.e.changeMuseumData,n=h.e.addMuseumSubType,c=h.e.updateMuseumSubType,s=h.a.changeCommonData;return Object(m.a)(Object(m.a)({},Object(v.bindActionCreators)({getMuseumSubTypeDetail:t,changeMuseumData:a,changeCommonData:s,addMuseumSubType:n,updateMuseumSubType:c},e)),{},{dispatch:e})}))(j)}}]);
//# sourceMappingURL=24.d24a4028.chunk.js.map