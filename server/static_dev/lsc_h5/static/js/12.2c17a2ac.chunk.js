(window.webpackJsonplsc_h5_ts=window.webpackJsonplsc_h5_ts||[]).push([[12],{821:function(e,t,a){},846:function(e,t,a){"use strict";a.r(t);a(201),a(23),a(30),a(28),a(198);var n=a(12),r=a(29),o=a(1),s=a.n(o),c=(a(39),a(2)),i=a(14),u=a(15),l=a(86),p=a(17),f=a(16),m=a(11),d=a(0),h=a.n(d),g=a(27),v=a(32),b=a(20),w=a(13),x=a(37);a(821);var O=function(e){Object(p.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,n=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onTabChange=Object(c.a)(s.a.mark((function e(){var t,a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,a=t.changeMallData,r=t.changeCommonData,e.next=3,r({page:1,totalPage:0});case 3:return e.next=5,a({goodsList:[]});case 5:n.getList();case 6:case"end":return e.stop()}}),e)}))),n.getList=Object(c.a)(s.a.mark((function e(){var t,a,r,o,c,i,u,l,p;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,a=t.getStoreHome,r=t.formFields,o=t.page,c=t.match.params.storeId,i=r.sort,u=void 0===i?0:i,l=r.shopType,p=void 0===l?1:l,e.next=4,a({storeId:c,sort:u,shopType:p,page:o});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)}))),n.getInitData=Object(c.a)(s.a.mark((function e(){var t,a,r,o,c,i,u,p;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(l.a)(n),a=t.props.wxOAuth2,r=t.getList,e.next=3,a();case 3:return e.next=5,r();case 5:return o=e.sent,c=o.storeInfo,i=c.storeName,u=c.storePresen,p=c.storeImg,e.next=12,w.d.onShare({title:i,desc:u||i,imgUrl:p.medium});case 12:case"end":return e.stop()}}),e)}))),n.handleScroll=function(e){var t=e.scrollTop;n.state.fixedFilter&&t>120||n.setState({fixedFilter:t>120})},n.state={fixedFilter:!1},n}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props,t=e.sortRules,a=e.goodsTypes,n=e.storeInfo,r=e.goodsList,o=this.state.fixedFilter,s=this.onTabChange,c=this.getList,i=this.handleScroll;return h.a.createElement(x.r,{className:"store_home_page",onScroll:i,onLoadData:c},h.a.createElement("div",{className:"top_wrapper"},h.a.createElement(x.w,{className:"custom",store:n}),h.a.createElement("div",{className:"filter_wrapper"},h.a.createElement("div",{className:"filters ".concat(o?"fixed":"")},h.a.createElement(x.D,{initValue:0,options:a,name:"shopType",onChange:s}),h.a.createElement(x.D,{initValue:0,options:t,name:"sort",onChange:s})))),h.a.createElement(x.o,{list:r}),h.a.createElement(x.d,null))}},{key:"componentDidMount",value:function(){this.getInitData()}},{key:"shouldComponentUpdate",value:function(e,t,a){return!0}}]),a}(h.a.Component);t.default=Object(v.b)((function(e){var t=e.mallReducer.goodsList,a=e.commonReducer,n=a.storeInfo,o=a.goodsTypes,s=a.sortRules,c=a.formFields,i=a.page;return{goodsList:t,storeInfo:n,goodsTypes:Object(r.a)(o).slice(0,3),sortRules:s,formFields:c,page:i}}),(function(e){var t=b.c.getStoreHome,a=b.c.changeMallData,r=b.a.wxOAuth2,o=b.a.changeCommonData;return Object(n.a)(Object(n.a)({},Object(g.bindActionCreators)({getStoreHome:t,changeMallData:a,changeCommonData:o,wxOAuth2:r},e)),{},{dispatch:e})}))(O)}}]);
//# sourceMappingURL=12.2c17a2ac.chunk.js.map