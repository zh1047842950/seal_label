(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-label_edit-index"],{"0418":function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.uni-popup[data-v-7cb5676f]{position:fixed;z-index:99}.uni-popup__mask[data-v-7cb5676f]{position:absolute;top:0;bottom:0;left:0;right:0;background-color:rgba(0,0,0,.4);opacity:0}.mask-ani[data-v-7cb5676f]{-webkit-transition-property:opacity;transition-property:opacity;-webkit-transition-duration:.2s;transition-duration:.2s}.uni-top-mask[data-v-7cb5676f]{opacity:1}.uni-bottom-mask[data-v-7cb5676f]{opacity:1}.uni-center-mask[data-v-7cb5676f]{opacity:1}.uni-popup__wrapper[data-v-7cb5676f]{display:block;position:absolute}.top[data-v-7cb5676f]{top:var(--window-top)}.bottom[data-v-7cb5676f]{bottom:0}.uni-popup__wrapper-box[data-v-7cb5676f]{display:block;position:relative;\n  /* iphonex 等安全区设置，底部安全区适配 */padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.content-ani[data-v-7cb5676f]{-webkit-transition-property:opacity,-webkit-transform;transition-property:opacity,-webkit-transform;transition-property:transform,opacity;transition-property:transform,opacity,-webkit-transform;-webkit-transition-duration:.2s;transition-duration:.2s}.uni-top-content[data-v-7cb5676f]{-webkit-transform:translateY(0);transform:translateY(0)}.uni-bottom-content[data-v-7cb5676f]{-webkit-transform:translateY(0);transform:translateY(0)}.uni-center-content[data-v-7cb5676f]{-webkit-transform:scale(1);transform:scale(1);opacity:1}',""]),t.exports=e},"0580":function(t,e,a){"use strict";var n=a("4ea4");a("d3b7"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(a("28c5")),o=n(a("fc25")),r={name:"UniPopup",components:{uniTransition:i.default},props:{animation:{type:Boolean,default:!0},type:{type:String,default:"center"},maskClick:{type:Boolean,default:!0}},provide:function(){return{popup:this}},mixins:[o.default],watch:{type:{handler:function(t){this[this.config[t]]()},immediate:!0},maskClick:{handler:function(t){this.mkclick=t},immediate:!0}},data:function(){return{duration:300,ani:[],showPopup:!1,showTrans:!1,maskClass:{position:"fixed",bottom:0,top:0,left:0,right:0,backgroundColor:"rgba(0, 0, 0, 0.4)"},transClass:{position:"fixed",left:0,right:0},maskShow:!0,mkclick:!0,popupstyle:"top"}},created:function(){this.mkclick=this.maskClick,this.animation?this.duration=300:this.duration=0},methods:{clear:function(t){t.stopPropagation()},open:function(){var t=this;this.showPopup=!0,this.$nextTick((function(){new Promise((function(e){clearTimeout(t.timer),t.timer=setTimeout((function(){t.showTrans=!0,t.$nextTick((function(){e()}))}),50)})).then((function(e){clearTimeout(t.msgtimer),t.msgtimer=setTimeout((function(){t.customOpen&&t.customOpen()}),100),t.$emit("change",{show:!0,type:t.type})}))}))},close:function(t){var e=this;this.showTrans=!1,this.$nextTick((function(){e.$emit("change",{show:!1,type:e.type}),clearTimeout(e.timer),e.customOpen&&e.customClose(),e.timer=setTimeout((function(){e.showPopup=!1}),300)}))},onTap:function(){this.mkclick&&this.close()},top:function(){this.popupstyle="top",this.ani=["slide-top"],this.transClass={position:"fixed",left:0,right:0}},bottom:function(){this.popupstyle="bottom",this.ani=["slide-bottom"],this.transClass={position:"fixed",left:0,right:0,bottom:0}},center:function(){this.popupstyle="center",this.ani=["zoom-out","fade"],this.transClass={position:"fixed",display:"flex",flexDirection:"column",bottom:0,left:0,right:0,top:0,justifyContent:"center",alignItems:"center"}}}};e.default=r},1301:function(t,e,a){"use strict";a.r(e);var n=a("0580"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e["default"]=i.a},"28c5":function(t,e,a){"use strict";a.r(e);var n=a("5ec4"),i=a("4edd");for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);a("7d3d");var r,s=a("f0c5"),l=Object(s["a"])(i["default"],n["b"],n["c"],!1,null,"77ed88fe",null,!1,n["a"],r);e["default"]=l.exports},"32ce":function(t,e,a){var n=a("0418");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("f7ac792a",n,!0,{sourceMap:!1,shadowMode:!1})},"4edd":function(t,e,a){"use strict";a.r(e);var n=a("9e63"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e["default"]=i.a},"58bf":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAAA6klEQVR4nO3XPUrFQBgF0DsuwF1o5QJs3IRaWOlidCNWCuIObAU7S3sbK3EBT4hEBcH5CYI8BM9pQr6bQLgMYSYAAAAAAAAAAAAAAAAA8PeU3hdN0zRfNpKcJjlMslU9xOwhyUWSs/mmlHal7elH0ZtJbpPsVCEtd0n2Simvjex9xfZcK/lHdpOc914YreipGrKodP4doxXNL1L0mih6TUZFr6oJS557+ajo42rCkqNePir6MslJkpcq4bunJAdJbqrkU3Mrkq+T4Ww7yb49ddd9kqskjxmcDAEAAAAAAAAAAAAAAACAfyrJG6+4Hk8c669aAAAAAElFTkSuQmCC"},"5a13":function(t,e,a){"use strict";var n=a("32ce"),i=a.n(n);i.a},"5b54":function(t,e,a){"use strict";var n=a("7bbf2"),i=a.n(n);i.a},"5eb7":function(t,e,a){"use strict";a.r(e);var n=a("f796"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e["default"]=i.a},"5ec4":function(t,e,a){"use strict";var n;a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isShow?a("v-uni-view",{ref:"ani",staticClass:"uni-transition",class:[t.ani.in],style:"transform:"+t.transform+";"+t.stylesObject,on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.change.apply(void 0,arguments)}}},[t._t("default")],2):t._e()},o=[]},7822:function(t,e,a){"use strict";a.r(e);var n=a("97fb"),i=a("1301");for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);a("5a13");var r,s=a("f0c5"),l=Object(s["a"])(i["default"],n["b"],n["c"],!1,null,"7cb5676f",null,!1,n["a"],r);e["default"]=l.exports},"7bbf2":function(t,e,a){var n=a("80b1");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("0f999b52",n,!0,{sourceMap:!1,shadowMode:!1})},"7d3d":function(t,e,a){"use strict";var n=a("d992"),i=a.n(n);i.a},"80b1":function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,".content_top_oprs[data-v-3f29bf7a]{padding:5px}.content_top_oprs img[data-v-3f29bf7a]{width:40px;height:40px}.content_top_oprs .right_oprs[data-v-3f29bf7a]{background-color:#3c98fe;height:40px;border-radius:20px}.content_top_oprs .right_oprs img[data-v-3f29bf7a]{margin:0 10px;width:30px;height:30px}.content_top_oprs .right_oprs > *[data-v-3f29bf7a]{vertical-align:middle}.content_top_oprs .right_oprs uni-view[data-v-3f29bf7a]{line-height:40px;display:inline-block;width:60px;text-align:center;color:#fff;border-left:2px solid #fff;border-right:2px solid #fff;font-size:12px}.edit_area[data-v-3f29bf7a]{background-color:#ddd;padding:10px 15px;overflow:auto}.edit_area .edit_bg[data-v-3f29bf7a]{display:inline-block;border:10px solid #bbb;background-color:#fff;box-sizing:initial}.edit_area .movable-area[data-v-3f29bf7a]{overflow:hidden;-webkit-transform-origin:0 0;transform-origin:0 0;background-color:initial}.edit_area .movable-area .movable_item[data-v-3f29bf7a]{border:1px solid transparent}.edit_area .movable-area .movable_item.editable[data-v-3f29bf7a]{border-color:#3c98fe}.edit_area .movable-area .movable_item.movable-img[data-v-3f29bf7a]{width:30px;height:30px;display:block}.scroll-view_H[data-v-3f29bf7a]{white-space:nowrap}.content_item_oprs[data-v-3f29bf7a]{border-bottom:1px solid #ddd;padding-bottom:5px}.content_item_oprs .opr_item[data-v-3f29bf7a]{text-align:center}.content_item_oprs .opr_item.active[data-v-3f29bf7a]{background-color:#fffdcd}.content_item_oprs .opr_item img[data-v-3f29bf7a]{display:block;margin:0 auto;width:80%;object-fit:contain}.content_item_oprs .opr_item uni-view[data-v-3f29bf7a]{line-height:1.5rem}.add_content_item_modal .icon[data-v-3f29bf7a]{width:25px}.add_content_item_modal span.flex_item[data-v-3f29bf7a]{padding-left:10px;font-size:1.2rem}.add_content_item_modal[data-v-3f29bf7a] .uni-popup__wrapper-box{padding-bottom:15px}.add_content_item_modal[data-v-3f29bf7a] .uni-popup__wrapper-box .cancel{margin-top:15px}.to_taobao_modal[data-v-3f29bf7a]{text-align:center}.to_taobao_modal[data-v-3f29bf7a] .uni-popup__wrapper-box{margin:0 10%;border-radius:10px;padding:0 10px}.to_taobao_modal[data-v-3f29bf7a] .uni-popup__wrapper-box .title{line-height:40px;font-weight:700}.to_taobao_modal[data-v-3f29bf7a] .uni-popup__wrapper-box .body .id{padding:10px 0}.to_taobao_modal[data-v-3f29bf7a] .uni-popup__wrapper-box .body span{color:#3c98fe}.to_taobao_modal[data-v-3f29bf7a] .uni-popup__wrapper-box .confirm{width:100px;margin:20px auto;display:block}.to_taobao_modal[data-v-3f29bf7a] .uni-popup__wrapper-box .confirm a{color:#fff}.add_text .label[data-v-3f29bf7a]{width:60px}.add_text .special_effect_item[data-v-3f29bf7a]{padding-right:5px}.add_text .special_effect_item[data-v-3f29bf7a] .uni-checkbox-wrapper .uni-checkbox-input{margin-right:0}.add_icon .seal_type_list[data-v-3f29bf7a]{line-height:25px;padding:5px 0}.add_icon .seal_type_list .label[data-v-3f29bf7a]{width:50px;text-align:center}.add_icon .seal_type_list .seal_type[data-v-3f29bf7a]{text-align:center;padding:0 10px;display:inline-block;border-radius:5px}.add_icon .seal_type_list .seal_type.active[data-v-3f29bf7a]{background-color:#3c98fe;color:#fff}.add_icon .seal_list[data-v-3f29bf7a]{height:200px}.add_icon .seal_list .seal_item[data-v-3f29bf7a]{width:15.55%;display:inline-block}.edit_content_item_modal .buttons[data-v-3f29bf7a]{padding:15px 0}.edit_content_item_modal[data-v-3f29bf7a] .code_text{width:100%;height:100px;padding:5px}.edit_content_item_modal[data-v-3f29bf7a] .code_text.bar_code{height:50px}.edit_content_item_modal[data-v-3f29bf7a] .code_text .uni-textarea-wrapper{border:1px solid #e6e6e6}.font_bold[data-v-3f29bf7a]{font-weight:700}.font_italic[data-v-3f29bf7a]{font-style:italic}.font_underline[data-v-3f29bf7a]{text-decoration:underline}.align_left[data-v-3f29bf7a]{text-align:left}.align_center[data-v-3f29bf7a]{text-align:center}.align_right[data-v-3f29bf7a]{text-align:right}.align_justify[data-v-3f29bf7a]{text-align:justify}.font_size_10[data-v-3f29bf7a]{font-size:10px}.font_size_11[data-v-3f29bf7a]{font-size:11px}.font_size_12[data-v-3f29bf7a]{font-size:12px}.font_size_13[data-v-3f29bf7a]{font-size:13px}.font_size_14[data-v-3f29bf7a]{font-size:14px}.font_size_15[data-v-3f29bf7a]{font-size:15px}.font_size_16[data-v-3f29bf7a]{font-size:16px}.font_size_17[data-v-3f29bf7a]{font-size:17px}.font_size_18[data-v-3f29bf7a]{font-size:18px}.font_size_19[data-v-3f29bf7a]{font-size:19px}.font_size_20[data-v-3f29bf7a]{font-size:20px}.font_size_21[data-v-3f29bf7a]{font-size:21px}.font_size_22[data-v-3f29bf7a]{font-size:22px}.font_size_23[data-v-3f29bf7a]{font-size:23px}.font_size_24[data-v-3f29bf7a]{font-size:24px}#box img[data-v-3f29bf7a]{width:100%}.hahahuhei[data-v-3f29bf7a]{font-family:hahahuhei,serif}.huakangshaonv[data-v-3f29bf7a]{font-family:huakangshaonv,serif}.tengxiangaiqing[data-v-3f29bf7a]{font-family:tengxiangaiqing,serif}.yuweishufa[data-v-3f29bf7a]{font-family:yuweishufa,serif}.hujingli[data-v-3f29bf7a]{font-family:hujingli,serif}.shoujixiongtu[data-v-3f29bf7a]{font-family:shoujixiongtu,serif}.yuweilishu[data-v-3f29bf7a]{font-family:yuweilishu,serif}.keaimengchong[data-v-3f29bf7a]{font-family:keaimengchong,serif}.bottom[data-v-3f29bf7a]{padding:10px;background-color:#fff;line-height:30px;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.bottom .label[data-v-3f29bf7a]{float:left}.bottom .label.confirm[data-v-3f29bf7a]{background-color:#c0e7ff;color:#666;width:auto}.bottom .confirm[data-v-3f29bf7a]{width:70px;margin:0 auto;padding:0 15px}.bottom .save[data-v-3f29bf7a]{color:#3c98fe;padding:0 10px;float:right}",""]),t.exports=e},"97fb":function(t,e,a){"use strict";var n;a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.showPopup?a("v-uni-view",{staticClass:"uni-popup",class:[t.popupstyle],on:{touchmove:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.clear.apply(void 0,arguments)},click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e)}}},[t.maskShow?a("uni-transition",{staticClass:"uni-mask--hook",attrs:{"mode-class":["fade"],styles:t.maskClass,duration:t.duration,show:t.showTrans},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onTap.apply(void 0,arguments)}}}):t._e(),a("uni-transition",{attrs:{"mode-class":t.ani,styles:t.transClass,duration:t.duration,show:t.showTrans},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onTap.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"uni-popup__wrapper-box",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.clear.apply(void 0,arguments)}}},[t._t("default")],2)],1)],1):t._e()},o=[]},"9a26":function(t,e,a){"use strict";a.r(e);var n=a("9d23"),i=a("5eb7");for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);a("5b54");var r,s=a("f0c5"),l=Object(s["a"])(i["default"],n["b"],n["c"],!1,null,"3f29bf7a",null,!1,n["a"],r);e["default"]=l.exports},"9d23":function(t,e,a){"use strict";var n;a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return n}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"flex_box vertical",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.cancelChose()}}},[n("v-uni-view",{staticClass:"content_top_oprs flex_box"},[t._l(t.contentOprs,(function(e,a){return n("img",{key:a,staticClass:"left_img",attrs:{src:"/seal_label/images/content_item_"+e.key+(e.disabled?"":"_active")+".png",alt:""},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.onContentOprItemTap(e)}}})})),n("v-uni-view",{staticClass:"flex_item"},[t._v("")]),n("v-uni-view",{staticClass:"right_oprs"},[n("img",{attrs:{src:a("d3b3"),alt:""},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onScalePaint(.1)}}}),n("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onScalePaint(0)}}},[t._v(t._s("原始"))]),n("img",{attrs:{src:a("58bf"),alt:""},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onScalePaint(-.1)}}})],1)],2),n("v-uni-view",{staticClass:"flex_item edit_area"},[n("v-uni-view",{staticClass:"edit_bg"},[n("v-uni-view",{style:"width:"+t.paint.W*t.paint.scale+"mm;height:"+t.paint.H*t.paint.scale+"mm;",attrs:{id:"content"}},[n("v-uni-movable-area",{staticClass:"movable-area ",style:"width:"+t.paint.W+"mm;height:"+t.paint.H+"mm;transform-origin: 0px 0px;transform: scale("+t.paint.scale+");"},t._l(t.contentItems,(function(e,a){return n("v-uni-movable-view",{key:a,class:["content_item",t.editIndex===a?"editable":""],attrs:{"data-detail":a,x:e.x,y:e.y,scale:!0,"scale-value":e.scale,id:"movable_view_"+a,direction:"all"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.onMove.apply(void 0,arguments)},click:function(n){n.stopPropagation(),arguments[0]=n=t.$handleEvent(n),t.onEditItem(e,a)}}},["text"===e.type?n("v-uni-view",{class:["movable_item","movable-text",t.editIndex===a?t.fontClass:e.fontClass,t.editIndex===a?"editable":""],style:"font-family: content_item_"+a+";transform: rotate("+e.rotate+"deg)",domProps:{innerHTML:t._s(t.editIndex===a?t.editInnerHtml:t.renderInnerHtml(e))}}):n("img",{class:["movable-img","movable_item",t.editIndex===a?"editable":""],style:"transform: rotate("+e.rotate+"deg)",attrs:{src:e.src,alt:""}})],1)})),1)],1)],1)],1),n("v-uni-view",{staticClass:"bottom clearfix"},[n("v-uni-view",{staticClass:"label"},[t._v(t._s(t.sealDetail.size.replace("*","mm*"))+"mm")]),n("v-uni-view",{staticClass:"save",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onSave(1)}}},[t._v("保存")]),n("v-uni-view",{staticClass:"confirm",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onSave(0)}}},[t._v(t._s("label"===t.moduleFor?"去打印":"去定制"))])],1),n("uni-popup",{ref:"add_content_item",staticClass:"add_content_item_modal",attrs:{type:"bottom"},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e)}}},[t._l(t.contentTypes,(function(e,a){return n("AllowRight",{key:a,on:{itemClick:function(a){arguments[0]=a=t.$handleEvent(a),t.onOpenItemModal(e.key)}}},[n("img",{staticClass:"icon",attrs:{src:"/seal_label/images/content_"+e.key+".png"}}),n("span",{staticClass:"flex_item"},[t._v(t._s(e.label))])])})),n("v-uni-view",{staticClass:"cancel",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.$refs.add_content_item.close()}}},[t._v("取消")])],2),n("uni-popup",{ref:"edit_content_item_modal",staticClass:"edit_content_item_modal",attrs:{type:"bottom"},on:{click:function(e){if(e.target!==e.currentTarget)return null;arguments[0]=e=t.$handleEvent(e)}}},[n("v-uni-view",{staticClass:"flex_box content_item_oprs"},t._l(t.contentItemOprs,(function(e,a){return n("v-uni-view",{key:a,class:"opr_item flex_item "+(t.contentItemOprIndex==a?"active":""),attrs:{"data-idx":a},on:{touchstart:function(e){arguments[0]=e=t.$handleEvent(e),t.onTouchStart.apply(void 0,arguments)},touchend:function(e){arguments[0]=e=t.$handleEvent(e),t.onTouchEnd.apply(void 0,arguments)},click:function(a){arguments[0]=a=t.$handleEvent(a),t.onOprItem(e)}}},[n("img",{attrs:{src:"/seal_label/images/content_opr_"+e.key+".png"}}),n("v-uni-view",[t._v(t._s(e.label))])],1)})),1),"text"===t.contentType?n("v-uni-view",{staticClass:"add_text"},[n("AllowRight",[n("v-uni-input",{staticClass:"flex_item",attrs:{"confirm-type":"done",placeholder:"请输入文本内容"},on:{blur:function(e){arguments[0]=e=t.$handleEvent(e),t.onInputBlur.apply(void 0,arguments)}},model:{value:t.labelFields.text,callback:function(e){t.$set(t.labelFields,"text",e)},expression:"labelFields.text"}})],1),n("AllowRight",[n("v-uni-view",{staticClass:"label"},[t._v("字体选择")]),n("v-uni-picker",{staticClass:"flex_item",attrs:{index:t.labelFields.font,"range-key":"label",range:t.fonts},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.onFontChange.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"uni-input"},[t._v(t._s(t.fonts[t.labelFields.font]["label"]))])],1)],1),n("AllowRight",[n("v-uni-view",{staticClass:"label"},[t._v("字体大小")]),n("v-uni-picker",{staticClass:"flex_item",attrs:{index:t.labelFields.fontSize,range:t.fontSizes},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.onFontSizeChange.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"uni-input"},[t._v(t._s(t.fontSizes[t.labelFields.fontSize]))])],1)],1),n("AllowRight",[n("v-uni-view",{staticClass:"label"},[t._v("对齐方式")]),n("v-uni-picker",{staticClass:"flex_item",attrs:{index:t.labelFields.alignType,"range-key":"label",range:t.alignTypes},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.onAlignTypeChange.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"uni-input"},[t._v(t._s(t.alignTypes[t.labelFields.alignType]["label"]))])],1)],1),n("AllowRight",[n("v-uni-view",{staticClass:"label"},[t._v("特效选择")]),n("v-uni-checkbox-group",{staticClass:"flex_item",on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.onSpecialEffectChange.apply(void 0,arguments)}}},t._l(t.specialEffects,(function(e,a){return n("v-uni-label",{key:e.value,staticClass:"special_effect_item"},[n("v-uni-checkbox",{staticStyle:{transform:"scale(0.6)"},attrs:{value:e.value,checked:t.labelFields.specialEffect.includes(e.value)}}),n("span",[t._v(t._s(e.label))])],1)})),1)],1)],1):"icon"===t.contentType?n("v-uni-view",{staticClass:"add_icon"},[n("v-uni-view",{staticClass:"seal_type_list flex_box"},[n("v-uni-scroll-view",{staticClass:" scroll-view_H",attrs:{"scroll-x":!0}},t._l(t.iconTypes,(function(e,a){return n("v-uni-view",{key:a,class:["seal_type",t.typeIndex===a?"active":""],on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.onChoseType(e,a)}}},[t._v(t._s(e.typeName))])})),1)],1),n("ListView",{staticClass:"seal_list",scopedSlots:t._u([{key:"default",fn:function(e){return[n("EasyLoadImage",{staticClass:"seal_item",attrs:{mode:"widthFix","scroll-top":e.scrollTop,"image-src":e.data.imgs[0].medium},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.onChoseIcon(e.data)}}})]}}])})],1):"qr_code"===t.contentType?n("v-uni-textarea",{staticClass:"code_text",attrs:{placeholder:"请输入二维码内容"},on:{blur:function(e){arguments[0]=e=t.$handleEvent(e),t.onInputBlur.apply(void 0,arguments)}},model:{value:t.labelFields.text,callback:function(e){t.$set(t.labelFields,"text",e)},expression:"labelFields.text"}}):n("v-uni-input",{staticClass:"code_text bar_code",attrs:{placeholder:"请输入条形码内容",type:"number"},on:{blur:function(e){arguments[0]=e=t.$handleEvent(e),t.onInputBlur.apply(void 0,arguments)}},model:{value:t.labelFields.text,callback:function(e){t.$set(t.labelFields,"text",e)},expression:"labelFields.text"}}),n("v-uni-view",{staticClass:"flex_box buttons"},[n("v-uni-view",{staticClass:"cancel flex_item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.$refs.edit_content_item_modal.close()}}},[t._v("取消")]),n("v-uni-view",{staticClass:"confirm flex_item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onSaveContentItem.apply(void 0,arguments)}}},[t._v("确定")])],1)],1),n("uni-popup",{ref:"to_taobao_modal",staticClass:"to_taobao_modal",attrs:{type:"center"},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e)}}},[n("v-uni-view",{staticClass:"title"},[t._v("温馨提示")]),n("v-uni-view",{staticClass:"body"},[t._v("印章创建图片已完成,现在需要您前往我们的淘宝旗舰店下单并在备注里填写以下的订单ID,以便我们在发货时对应上您提交的定制图片,否则将无法发货!"),n("v-uni-view",{staticClass:"id"},[t._v("订单ID:"),n("span",[t._v(t._s(t.orderId))])]),t._v("(已复制到系统剪贴板)")],1),n("a",{staticClass:"confirm",attrs:{href:"https://t.asczwa.com/taobao?backurl=https://m.tb.cn/h.VrrMU6V?sm=917be1"}},[t._v("淘宝下单")])],1),n("BottomModal",{attrs:{title:"尺寸选择"}},[n("VsonPickerView",{attrs:{value:t.paintSizeIndex,options:t.paintSizes},on:{onChange:function(e){arguments[0]=e=t.$handleEvent(e),t.onPaintSizeChange.apply(void 0,arguments)}}})],1)],1)},o=[]},"9e63":function(t,e,a){"use strict";var n=a("4ea4");a("4160"),a("a9e3"),a("ac1f"),a("5319"),a("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(a("5530")),o={name:"uniTransition",props:{show:{type:Boolean,default:!1},modeClass:{type:Array,default:function(){return[]}},duration:{type:Number,default:300},styles:{type:Object,default:function(){return{}}}},data:function(){return{isShow:!1,transform:"",ani:{in:"",active:""}}},watch:{show:{handler:function(t){t?this.open():this.close()},immediate:!0}},computed:{stylesObject:function(){var t=(0,i.default)((0,i.default)({},this.styles),{},{"transition-duration":this.duration/1e3+"s"}),e="";for(var a in t){var n=this.toLine(a);e+=n+":"+t[a]+";"}return e}},created:function(){},methods:{change:function(){this.$emit("click",{detail:this.isShow})},open:function(){var t=this;for(var e in clearTimeout(this.timer),this.isShow=!0,this.transform="",this.ani.in="",this.getTranfrom(!1))"opacity"===e?this.ani.in="fade-in":this.transform+="".concat(this.getTranfrom(!1)[e]," ");this.$nextTick((function(){setTimeout((function(){t._animation(!0)}),50)}))},close:function(t){clearTimeout(this.timer),this._animation(!1)},_animation:function(t){var e=this,a=this.getTranfrom(t);for(var n in this.transform="",a)"opacity"===n?this.ani.in="fade-".concat(t?"out":"in"):this.transform+="".concat(a[n]," ");this.timer=setTimeout((function(){t||(e.isShow=!1),e.$emit("change",{detail:e.isShow})}),this.duration)},getTranfrom:function(t){var e={transform:""};return this.modeClass.forEach((function(a){switch(a){case"fade":e.opacity=t?1:0;break;case"slide-top":e.transform+="translateY(".concat(t?"0":"-100%",") ");break;case"slide-right":e.transform+="translateX(".concat(t?"0":"100%",") ");break;case"slide-bottom":e.transform+="translateY(".concat(t?"0":"100%",") ");break;case"slide-left":e.transform+="translateX(".concat(t?"0":"-100%",") ");break;case"zoom-in":e.transform+="scale(".concat(t?1:.8,") ");break;case"zoom-out":e.transform+="scale(".concat(t?1:1.2,") ");break}})),e},_modeClassArr:function(t){var e=this.modeClass;if("string"!==typeof e){var a="";return e.forEach((function(e){a+=e+"-"+t+","})),a.substr(0,a.length-1)}return e+"-"+t},toLine:function(t){return t.replace(/([A-Z])/g,"-$1").toLowerCase()}}};e.default=o},b4db:function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,".uni-transition[data-v-77ed88fe]{-webkit-transition-timing-function:ease;transition-timing-function:ease;-webkit-transition-duration:.3s;transition-duration:.3s;-webkit-transition-property:opacity,-webkit-transform;transition-property:opacity,-webkit-transform;transition-property:transform,opacity;transition-property:transform,opacity,-webkit-transform}.fade-in[data-v-77ed88fe]{opacity:0}.fade-active[data-v-77ed88fe]{opacity:1}.slide-top-in[data-v-77ed88fe]{\n\t/* transition-property: transform, opacity; */-webkit-transform:translateY(-100%);transform:translateY(-100%)}.slide-top-active[data-v-77ed88fe]{-webkit-transform:translateY(0);transform:translateY(0)\n\t/* opacity: 1; */}.slide-right-in[data-v-77ed88fe]{-webkit-transform:translateX(100%);transform:translateX(100%)}.slide-right-active[data-v-77ed88fe]{-webkit-transform:translateX(0);transform:translateX(0)}.slide-bottom-in[data-v-77ed88fe]{-webkit-transform:translateY(100%);transform:translateY(100%)}.slide-bottom-active[data-v-77ed88fe]{-webkit-transform:translateY(0);transform:translateY(0)}.slide-left-in[data-v-77ed88fe]{-webkit-transform:translateX(-100%);transform:translateX(-100%)}.slide-left-active[data-v-77ed88fe]{-webkit-transform:translateX(0);transform:translateX(0);opacity:1}.zoom-in-in[data-v-77ed88fe]{-webkit-transform:scale(.8);transform:scale(.8)}.zoom-out-active[data-v-77ed88fe]{-webkit-transform:scale(1);transform:scale(1)}.zoom-out-in[data-v-77ed88fe]{-webkit-transform:scale(1.2);transform:scale(1.2)}",""]),t.exports=e},d3b3:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAACIElEQVR4nO3dsWoUURxG8TNa2VjbBGwUBFtFCL6EWghGJZ0v4BOYzhewEqIBBfENbAVBwTK9CqnEVtCwEhyQ5N6ZjRC+vVfPr/zfWXY4exmmmGGRJEmKGKa+ZLFYFLMV2wAeA+eOnMZzYBPYb+Ekh6GetD5tL/TGGHTKe+DqxFrUVOhTxaQ9a0siH7gCPCymDekh9GYxqXtQnTaih9CXikndWnXaiB5C/xN6CH3cu4km7jqmuKNDDB1i6BBDhxg6xNAhhg4xdIihQwwdYugQQ4cYOsTQIYYOMXSIoUMMHWLoEEOHGDrE0CGGDjF0iKFDDB1Sf5j3z/PRBz/EI+AWcKE4aMXnWLGKh7p3gRfAFjPPR9env0OfBd4Cl4tF1bwDrg/D8LOyNnvpeG3kv3IN2J76wNyObu4llh4ME9eOuR2tE2ToEEOHzIX+UUy0zNep9bnQ94qJlrk9tT4X+iVwH/hWrOioPeAm8KZYGVVvRTj85uxF4MYK76nXgfPFtLQ/bo60j8Ar4BOdv6K8A9wppqXvwJliGjYVeu7SoRNk6BBDhxg6xNAhhg4xdIihQwwdYugQQ4cYOsTQIYYOMXSIoUMMHWLoEEOHGDrE0CGGDjF0iKFDDB1i6BBDh/QQ+nQxqTvucSvhjg7pIfRuMan7XJ02oofQT4tJ3ZPqtBE9hP4C3C2mh30Y/0erWb1co3fG/8vaK1bg2fjWqiRJ0v8O+AWKnj6UqeTWFwAAAABJRU5ErkJggg=="},d992:function(t,e,a){var n=a("b4db");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("d288226e",n,!0,{sourceMap:!1,shadowMode:!1})},f796:function(t,e,a){"use strict";(function(t){var n=a("4ea4");a("99af"),a("caad"),a("a15b"),a("d81d"),a("a434"),a("a9e3"),a("b680"),a("e25e"),a("ac1f"),a("2532"),a("5319"),a("1276"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(a("a38e")),o=n(a("5530")),r=n(a("15fd")),s=n(a("3835"));a("96cf");var l=n(a("1da1")),c=n(a("d4ec")),d=n(a("bee2")),u=n(a("262e")),f=n(a("2caf")),p=a("9ab4"),h=a("4bb5"),m=a("60a3"),v=a("3617"),b=n(a("7822")),_=a("d257"),g=window,x=(g.domtoimage,g.html2canvas),y=(g.imageConversion,function(e){(0,u.default)(n,e);var a=(0,f.default)(n);function n(){var t;return(0,c.default)(this,n),t=a.apply(this,arguments),t.x=0,t.y=0,t.typeIndex=0,t.subTypeIndex=0,t.scrollTop=0,t.paintSizeIndex=[0,0],t.contentItems=[],t.paint={W:50,H:30,width:50,height:30,scale:1},t.sealParams={server:"pro"},t.diyLabel={},t.editIndex=-1,t.fontFields={specialEffect:[],alignType:0,fontSize:6,font:0,text:""},t.contentType="text",t.imgUrl="",t.contentItemOprIndex=-1,t.orderId="987654321",t}return(0,d.default)(n,[{key:"renderInnerHtml",value:function(t){var e=t.text,a=t.specialEffect;return a.includes("font_vertical")?e.split("").join("<br/>"):e}},{key:"currentContentOprs",value:function(t){var e=this.contentOprs,a=this.contentItems.length,n=-1===t;return e[0].disabled=a>10,e[1].disabled=n,e}},{key:"onPaintSizeChange",value:function(){var t=(0,l.default)(regeneratorRuntime.mark((function t(e){var a,n,i,o,r,l,c,d,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=(0,s.default)(e.detail.value,2),n=a[0],i=a[1],o=this.changeLabelData,r=this.paintSizes,l=this.paint,c=this.sealDetail,d=r[0][n],u=r[1][i],l.width=d,l.height=u,l.W=d,l.H=u,c.size=d+"*"+u,t.next=10,o({sealDetail:c});case 10:this.paintSizeIndex=[n,i];case 11:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"onSave",value:function(){var t=(0,l.default)(regeneratorRuntime.mark((function t(e){var a,n,i,s,l,c,d,u,f,p,h,m,v,b,g,y,w,k,C,A,I,T,E,S,F,z,O,R,D;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.editIndex=-1,t.next=3,_.Utils.timeout(100);case 3:return a=this.moduleFor,n=this.contentItems,i=this.upload2Qiniu,s=this.createDiySeal,l=this.createDiyLabel,c=this.sealDetail,d=this.paint,u=d.W,f=d.H,d.scale,p=this.$refs,h=[],m="",n.map((function(t,e){var a=t.type,n=t.blobUrl;"text"===a&&n&&(h.push({family:"content_item_"+e,src:n}),m+="@font-face { font-family: content_item_".concat(e,'; src: url("').concat(n,'");}'))})),document.getElementById("content_item_fonts").innerHTML=m,localStorage.setItem("fonts",JSON.stringify(h)),uni.showLoading({title:"生成图片中...",mask:!0}),v=document.getElementById("content"),b=navigator,b.appVersion,g="",y=window.getComputedStyle(v),w=parseInt(y.getPropertyValue("width")),k=parseInt(y.getPropertyValue("height")),t.next=18,x(v,{width:3*w,height:3*k,scale:3,backgroundColor:null,useCORS:!0,allowTaint:!0,logging:!0});case 18:return C=t.sent,t.next=21,_.Utils.loadedImage(C.toDataURL());case 21:if(A=t.sent,I=A.image,C.width=3*w,C.height=3*k,T=C.getContext("2d"),T.clearRect(0,0,3*w,3*k),T.drawImage(I,0,0),g=C.toDataURL(),this.imgUrl=g,uni.hideLoading(),"label"!==a||e){t.next=35;break}E=navigator.userAgent;try{S={width:u,height:f,status:e,data:g.replace("data:image/png;base64,","")},/android/i.test(E)&&window.android.h5CallNative(JSON.stringify(S)),/(iPhone|iPad|iPod|iOS)/i.test(E)&&window.webkit.messageHandlers.h5CallNative.postMessage(S)}catch($){}return t.abrupt("return");case 35:return t.next=37,i(_.Utils.base64toFile(g));case 37:if(F=t.sent,z=F.imgUrl,(0,r.default)(F,["imgUrl"]),"label"!==a||!e){t.next=48;break}return O=[],n.map((function(t){var e=t.type,a=(0,o.default)({},t);"text"===e&&delete a.blobUrl,"bar_code"!==e&&"qr_code"!==e||delete a.src,O.push(a)})),t.next=45,l({status:0,labelStampId:c.id,img:z,orderName:O,successTip:"标签保存成功!"});case 45:return R=t.sent,R.id,t.abrupt("return");case 48:return t.next=50,s({stampId:c.id,status:e,img:[{imgUrl:z,width:w,height:k,imgCategory:1}]});case 50:D=t.sent,e?uni.showToast({icon:"success",title:"印章图片已保存!"}):(this.orderId=D.id,_.Utils.h5Copy(D.id),p.to_taobao_modal.open());case 52:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"gotoTB",value:function(){var t=this.$refs,e=this.orderId;_.Utils.h5Copy(e),t.to_taobao_modal.close(),uni.navigateTo({url:"https://t.asczwa.com/taobao?backurl=https://m.tb.cn/h.VrrMU6V?sm=917be1"})}},{key:"onEditItem",value:function(){var t=(0,l.default)(regeneratorRuntime.mark((function t(e,a){var n,i,r,s,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.type,i=this.currentContentOprs,r=this.contentItems,s=this.changeLabelData,l=this.$refs,this.editIndex=a,this.contentType=n,t.next=6,s({contentOprs:i(a),labelFields:(0,o.default)({},r[a])});case 6:l.edit_content_item_modal.open();case 7:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"onContentOprItemTap",value:function(){var t=(0,l.default)(regeneratorRuntime.mark((function t(e){var a,n,i,r,s,l,c,d,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.key,n=e.disabled,!n){t.next=3;break}return t.abrupt("return");case 3:i=this.changeLabelData,r=this.changeCommonData,s=this.fontFields,l=this.editIndex,c=void 0===l?-1:l,d=this.contentItems,u=this.$refs,t.t0=a,t.next="add"===t.t0?7:"chose_size"===t.t0?11:14;break;case 7:return u.add_content_item.open(),t.next=10,i({labelFields:(0,o.default)({},s)});case 10:return t.abrupt("break",16);case 11:return t.next=13,r({showModal:!0});case 13:return t.abrupt("break",16);case 14:return d.splice(c,1),t.abrupt("break",16);case 16:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"onMove",value:function(t){var e=this.contentItems,a=t.detail,n=a.x,i=a.y,o=a.source,r=t.target.dataset.detail;o&&(Object.assign(e[r],{x:n,y:i}),this.contentItems=e)}},{key:"onOpenItemModal",value:function(){var t=(0,l.default)(regeneratorRuntime.mark((function t(e){var a,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.contentType=e,a=this.$refs,n=this.changeLabelData,i=this.fontFields,a.add_content_item.close(),t.next=5,n({labelFields:(0,o.default)({},i)});case 5:a.edit_content_item_modal.open();case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"onFontChange",value:function(){var t=(0,l.default)(regeneratorRuntime.mark((function t(e){var a,n,i,o,r,s,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.detail.value,n=this.editIndex,i=this.fonts,o=this.loadFont,r=this.labelFields.text,t.next=4,o({text:r,font:i[a].value},n);case 4:s=t.sent,l=s.blobUrl,this.labelFields.font=a,this.labelFields.blobUrl=l;case 8:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"onFontSizeChange",value:function(t){var e=t.detail.value;this.labelFields.fontSize=e}},{key:"onAlignTypeChange",value:function(t){var e=t.detail.value;this.labelFields.alignType=e}},{key:"onSpecialEffectChange",value:function(){var t=(0,l.default)(regeneratorRuntime.mark((function t(e){var a,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.detail.value,this.specialEffects,n=this.editIndex,i=this.renderTransform,this.labelFields.specialEffect=a,t.next=5,i(n);case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"onChoseType",value:function(){var t=(0,l.default)(regeneratorRuntime.mark((function t(e,a){var n,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.typeIndex=a,this.subTypeIndex=0,n=e.typeId,i=this.changeCommonData,o=this.sealParams,o.sealType=[n],t.next=7,i({refreshList:!0,listParams:o});case 7:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"cancelChose",value:function(){var t=(0,l.default)(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.editIndex=-1,e=this.changeLabelData,a=this.currentContentOprs,t.next=4,e({contentOprs:a(-1)});case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"init",value:function(){var t=(0,l.default)(regeneratorRuntime.mark((function t(){var e,a,n,i,r,l,c,d,u,f,p,h,m;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.changeLabelData,a=this.paint,n=this.sealDetail.size,i=this.changeCommonData,r=this.fontFields,l=this.currentContentOprs,c=this.getContentItemsFont,d=this.sealParams,u=this.renderTransform,t.next=3,e({contentOprs:l(-1),labelFields:(0,o.default)({},r)});case 3:return f=n.split("*"),p=(0,s.default)(f,2),h=p[0],m=p[1],a.W=h,a.width=h,a.H=m,a.height=m,d.sealType=["5eb52e6fe3590a0ab0e742a5"],t.next=11,c();case 11:return t.next=13,i({listParams:(0,o.default)({},d),listUrl:"/sealList",listKey:"sealList"});case 13:return t.next=15,u();case 15:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"onChoseIcon",value:function(){var t=(0,l.default)(regeneratorRuntime.mark((function t(e){var a,n,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=e.imgs[0].original,n=this.contentItems,i=this.editIndex,o={type:"icon",src:a,x:0,y:0,scale:1,rotate:0},-1===i?(n.push(o),this.editIndex=n.length-1):n[i].src=a;case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"loadFont",value:function(){var t=(0,l.default)(regeneratorRuntime.mark((function t(e,a){var n,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=this.getLocalFont,t.next=3,n((0,o.default)((0,o.default)({},e),{},{index:a}));case 3:return i=t.sent,r=i.blobUrl,t.abrupt("return",{blobUrl:r});case 6:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"onInputBlur",value:function(){var t=(0,l.default)(regeneratorRuntime.mark((function t(e){var a,n,i,o,r,s,l,c,d,u,f,p,h,m,v,b,g;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=e.detail.value,n=this.fonts,i=this.getLocalFont,o=this.contentType,r=this.editIndex,s=this.fontClass,l=this.contentItems,c=this.labelFields,d=c.alignType,u=c.font,f=c.fontSize,p=c.specialEffect,h={x:0,y:0,scale:1,rotate:0,type:o,text:a},m=null,t.t0=o,t.next="qr_code"===t.t0?7:"bar_code"===t.t0?12:17;break;case 7:return t.next=9,_.Utils.getQrCode(a);case 9:return t.t1=t.sent,m={src:t.t1},t.abrupt("break",25);case 12:return t.next=14,_.Utils.getBarCode(a);case 14:return t.t2=t.sent,m={src:t.t2},t.abrupt("break",25);case 17:return v=n[u].value,t.next=20,i({font:v,text:a,index:-1===r?l.length:r});case 20:return b=t.sent,g=b.blobUrl,this.labelFields.blobUrl=g,m={fontClass:s,alignType:d,font:u,blobUrl:g,fontSize:f,specialEffect:p},t.abrupt("break",25);case 25:Object.assign(h,m),-1===r?(l.push(h),this.editIndex=l.length-1):(l[r].text=a,"text"!==o&&(l[r].src=h.src));case 27:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"onSaveContentItem",value:function(){var t=(0,l.default)(regeneratorRuntime.mark((function t(){var e,a,n,i,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.$refs,a=this.labelFields,n=this.fontClass,i=this.editIndex,r=this.contentItems,s=this.contentType,"text"===s)try{Object.assign(r[i],(0,o.default)((0,o.default)({},a),{},{fontClass:n}))}catch(l){}e.edit_content_item_modal.close();case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"onTouchStart",value:function(){var e=(0,l.default)(regeneratorRuntime.mark((function e(a){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.log("onTouchStart"),n=a.currentTarget.dataset.idx,this.contentItemOprIndex=parseInt(n);case 3:case"end":return e.stop()}}),e,this)})));function a(t){return e.apply(this,arguments)}return a}()},{key:"onTouchEnd",value:function(e){t.log("onTouchEnd"),this.contentItemOprIndex=-1}},{key:"onOprItem",value:function(){var e=(0,l.default)(regeneratorRuntime.mark((function e(a){var n,o,s,l,c,d,u,f,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.log("onOprItem",a),n=a.step,o=a.val2Key,a.key,s=this.contentItems,l=this.editIndex,c=this.labelFields,d=this.renderTransform,u=s[l],f=u[o],(0,r.default)(u,[o].map(i.default)),p=parseInt(10*f+10*n)/10,s[l][o]=p,c[o]=p,this.contentItems=s,"rotate"!==o){e.next=11;break}return e.next=11,d(l);case 11:case"end":return e.stop()}}),e,this)})));function a(t){return e.apply(this,arguments)}return a}()},{key:"renderTransform",value:function(){var t=(0,l.default)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.contentItems,this.$nextTick;case 1:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"onScalePaint",value:function(t){var e=this.paint,a=e.scale,n=(e.width,e.height,e.W),i=e.H;this.sealDetail.size;this.paint.scale=t?Number((a+t).toFixed(2)):1,this.paint.width=t?Number((n*(a+t)).toFixed(2)):n,this.paint.height=t?Number((i*(a+t)).toFixed(2)):i}},{key:"getContentItemsFont",value:function(){var t=(0,l.default)(regeneratorRuntime.mark((function t(){var e,a,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=this.contentItems,a=this.fonts,n=this.getLocalFont,i=this.$set,e.map(function(){var t=(0,l.default)(regeneratorRuntime.mark((function t(o,r){var s,l,c,d,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:s=o.type,l=o.text,c=o.font,t.t0=s,t.next="text"===t.t0?4:"qr_code"===t.t0?10:"bar_code"===t.t0?14:18;break;case 4:return t.next=6,n({text:l,font:a[c].value,index:r});case 6:return d=t.sent,u=d.blobUrl,o.blobUrl=u,t.abrupt("break",19);case 10:return t.next=12,_.Utils.getQrCode(l);case 12:return o.src=t.sent,t.abrupt("break",19);case 14:return t.next=16,_.Utils.getBarCode(l);case 16:return o.src=t.sent,t.abrupt("break",19);case 18:return t.abrupt("break",19);case 19:i(e,r,o);case 20:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"onLoad",value:function(){var t=(0,l.default)(regeneratorRuntime.mark((function t(e){var a,n,i,s,l,c,d,u,f,p;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.id,n=this.getSaveLabelDetail,i=this.getLabelDetail,s=this.changeLabelData,l=this.getContentItemsFont,!a){t.next=18;break}return t.next=5,n({id:a});case 5:return c=t.sent,d=c.orderName,u=c.labelStampId,f=(0,r.default)(c,["orderName","labelStampId"]),t.next=11,i({id:u});case 11:return p=t.sent,t.next=14,s({sealDetail:p});case 14:return this.contentItems=JSON.parse(d),t.next=17,l();case 17:this.diyLabel=(0,o.default)({labelStampId:u},f);case 18:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"onShow",value:function(){var t=(0,l.default)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.init,t.next=3,e();case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"onReady",value:function(){}},{key:"fontClass",get:function(){var t=this.fontSizes,e=this.alignTypes,a=this.fonts,n=this.contentType,i=this.labelFields,o=i.fontSize,r=i.font,s=i.alignType,l=i.specialEffect;if("text"===n)return"font_size_".concat(t[o]," ").concat(a[r]["value"]," ").concat(e[s]["value"]," ").concat(l.join(" "))}},{key:"editInnerHtml",get:function(){var t=this.labelFields,e=t.text,a=t.specialEffect;return a.includes("font_vertical")?e.split("").join("<br/>"):e}}]),n}(m.Vue));(0,p.__decorate)([(0,h.State)("moduleFor",{namespace:"common"})],y.prototype,"moduleFor",void 0),(0,p.__decorate)([(0,h.State)("labelFields",{namespace:"label"})],y.prototype,"labelFields",void 0),(0,p.__decorate)([(0,h.State)("specialEffects",{namespace:"label"})],y.prototype,"specialEffects",void 0),(0,p.__decorate)([(0,h.State)("alignTypes",{namespace:"label"})],y.prototype,"alignTypes",void 0),(0,p.__decorate)([(0,h.State)("fontSizes",{namespace:"label"})],y.prototype,"fontSizes",void 0),(0,p.__decorate)([(0,h.State)("paintSizes",{namespace:"label"})],y.prototype,"paintSizes",void 0),(0,p.__decorate)([(0,h.State)("fonts",{namespace:"label"})],y.prototype,"fonts",void 0),(0,p.__decorate)([(0,h.State)("oprMenus",{namespace:"label"})],y.prototype,"oprMenus",void 0),(0,p.__decorate)([(0,h.State)("contentOprs",{namespace:"label"})],y.prototype,"contentOprs",void 0),(0,p.__decorate)([(0,h.State)("contentTypes",{namespace:"label"})],y.prototype,"contentTypes",void 0),(0,p.__decorate)([(0,h.State)("dimensions",{namespace:"label"})],y.prototype,"dimensions",void 0),(0,p.__decorate)([(0,h.State)("textDirection",{namespace:"label"})],y.prototype,"textDirection",void 0),(0,p.__decorate)([(0,h.State)("sealTypeList",{namespace:"label"})],y.prototype,"sealTypeList",void 0),(0,p.__decorate)([(0,h.State)("contentItemOprs",{namespace:"label"})],y.prototype,"contentItemOprs",void 0),(0,p.__decorate)([(0,h.State)("iconTypes",{namespace:"label"})],y.prototype,"iconTypes",void 0),(0,p.__decorate)([(0,h.Action)("getSealType",{namespace:"label"})],y.prototype,"getSealType",void 0),(0,p.__decorate)([(0,h.Action)("getSealDetail",{namespace:"label"})],y.prototype,"getSealDetail",void 0),(0,p.__decorate)([(0,h.Action)("changeLabelData",{namespace:"label"})],y.prototype,"changeLabelData",void 0),(0,p.__decorate)([(0,h.Action)("changeCommonData",{namespace:"common"})],y.prototype,"changeCommonData",void 0),(0,p.__decorate)([(0,h.Action)("getLocalFont",{namespace:"common"})],y.prototype,"getLocalFont",void 0),(0,p.__decorate)([(0,h.Action)("upload2Qiniu",{namespace:"common"})],y.prototype,"upload2Qiniu",void 0),(0,p.__decorate)([(0,h.State)("sealDetail",{namespace:"label"})],y.prototype,"sealDetail",void 0),(0,p.__decorate)([(0,h.Action)("createDiySeal",{namespace:"label"})],y.prototype,"createDiySeal",void 0),(0,p.__decorate)([(0,h.Action)("createDiyLabel",{namespace:"label"})],y.prototype,"createDiyLabel",void 0),(0,p.__decorate)([(0,h.Action)("getSaveLabelDetail",{namespace:"label"})],y.prototype,"getSaveLabelDetail",void 0),(0,p.__decorate)([(0,h.Action)("getLabelDetail",{namespace:"label"})],y.prototype,"getLabelDetail",void 0),y=(0,p.__decorate)([(0,m.Component)({name:"LabelEdit",components:{uniPopup:b.default,AllowRight:v.AllowRight,EasyLoadImage:v.EasyLoadImage,ListView:v.ListView,BottomModal:v.BottomModal,VsonPickerView:v.VsonPickerView}})],y);var w=y;e.default=w}).call(this,a("5a52")["default"])},fc25:function(t,e,a){"use strict";a.r(e);var n={created(){"message"===this.type&&(this.maskShow=!1,this.childrenMsg=null)},methods:{customOpen(){this.childrenMsg&&this.childrenMsg.open()},customClose(){this.childrenMsg&&this.childrenMsg.close()}}};const i={top:"top",bottom:"bottom",center:"center",message:"top",dialog:"center",share:"bottom"};e["default"]={data(){return{config:i}},mixins:[n]}}}]);